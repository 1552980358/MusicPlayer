(function(e){function t(t){for(var o,l,s=t[0],r=t[1],u=t[2],c=0,f=[];c<s.length;c++)l=s[c],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&f.push(n[l][0]),n[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var e,t=0;t<a.length;t++){for(var i=a[t],o=!0,s=1;s<i.length;s++){var r=i[s];0!==n[r]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=i[0]))}return e}var o={},n={app:0},a=[];function l(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=e,l.c=o,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(i,o,function(t){return e[t]}.bind(null,o));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=r;a.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0013":function(e,t,i){"use strict";i("cafb")},"034f":function(e,t,i){"use strict";i("85ec")},"095d":function(e,t,i){"use strict";i.r(t);var o=i("2c7b"),n=i.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},"0a3f":function(e,t,i){"use strict";i("7ec2")},"15be":function(e,t,i){"use strict";i("a145")},1612:function(e,t,i){"use strict";i.r(t);var o=i("f65d"),n=i.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);t["default"]=n.a},"2c7b":function(e,t){e.exports={app:{div_file_seq:"Sequence",div_file_name:"File Name",div_file_size:"File Size",div_file_status:"Status",div_file_progress:"Progress",progress_waiting:"Waiting",progress_completed:"Completed",progress_failed:"Filed"},upload:{text_drop_above:"Release here to Select",text_drop_empty:"Click for selecting file(s) or dropping file(s) at here",btn_upload:"Upload",btn_remove:"Remove All",progress_uploading:"Uploading"}}},"3ec1":function(e,t,i){},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var o=i("2b0e"),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("Upload")],1)},a=[],l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"margin-bottom":"50px"}},[i("DropFile",{on:{dropFiles:e.updateFileList}}),i("div",{staticStyle:{height:"50px",width:"100%","align-items":"center",display:"table","text-align":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle",width:"100%"}},[i("div",{staticStyle:{width:"10%",float:"left"}},[e._v(e._s(e.$t("app.div_file_seq")))]),i("div",{staticStyle:{width:"60%",float:"left"}},[e._v(e._s(e.$t("app.div_file_name")))]),i("div",{staticStyle:{width:"15%",float:"left"}},[e._v(e._s(e.$t("app.div_file_size")))]),i("div",{staticStyle:{width:"10%",float:"left"}},[e._v(e._s(e.$t("app.div_file_status")))]),i("div",{staticStyle:{width:"5%",float:"left"}},[e._v(e._s(e.$t("app.div_file_progress")))])])]),i("FileList",{ref:"fileList"}),i("Footer",{ref:"footer",staticClass:"footer",on:{remove:e.removeFiles,upload:e.upload}})],1)},s=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"div-drop-area",class:e.hasDrop||e.mouseAbove?"drop-above":"drop-empty",staticStyle:{height:"150px",width:"100%","align-items":"center",display:"table",cursor:"pointer"},attrs:{id:"div-drop-area"},on:{click:e.selectFiles}},[i("input",{ref:"input-select",staticStyle:{display:"none"},attrs:{type:"file",accept:"audio/*"},on:{change:function(t){return e.inputFiles(t)}}}),i("h1",{staticStyle:{"text-align":"center",display:"table-cell","vertical-align":"middle"}},[e._v(e._s(e.hasDrop?e.$t("upload.text_drop_above"):e.$t("upload.text_drop_empty")))])])},u=[],d=(i("d3b7"),i("caad"),i("2532"),i("159b"),i("b0c0"),{name:"DropFile",data:function(){return{hasDrop:!1,mouseAbove:!1,fileList:[]}},methods:{dropEvent:function(e){var t=this;this.hasDrop=!1,e.stopPropagation(),e.preventDefault(),[].forEach.call(e.dataTransfer.files,(function(e){if(e.type.includes("audio")){var i=!1;t.fileList.forEach((function(t){0===t.name.localeCompare(e.name)&&(i=!0)})),i?console.log("File '"+e.name+"' exists, ignored."):t.fileList.push({file:e,name:e.name,size:e.size,upload:0,status:0})}else{var o=e.name.lastIndexOf(".");-1===o?console.log("File '"+e.name+"' with unknown type, ignored."):console.log("File '"+e.name+"' with type "+e.name.substring(o+1)+" is not the type of 'audio/*', ignored.")}}),!1),this.updateFiles()},selectFiles:function(){this.$refs["input-select"].click()},inputFiles:function(e){var t=this;[].forEach.call(e.target.files,(function(e){var i=!1;t.fileList.forEach((function(t){0===t.name.localeCompare(e.name)&&(i=!0)})),i?console.log("File '"+e.name+"' exists, ignored."):t.fileList.push({file:e,name:e.name,size:e.size,upload:0,status:0})}),!1),this.updateFiles()},updateFiles:function(){this.$emit("dropFiles",this.fileList)}},mounted:function(){var e=this,t=this.$refs["div-drop-area"];t.addEventListener("drop",this.dropEvent,!1),t.addEventListener("dragleave",(function(t){t.stopPropagation(),t.preventDefault(),e.hasDrop=!1})),t.addEventListener("dragenter",(function(t){t.stopPropagation(),t.preventDefault(),e.hasDrop=!0})),t.addEventListener("dragover",(function(t){t.stopPropagation(),t.preventDefault(),e.hasDrop=!0})),t.addEventListener("mouseover",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAbove=!0})),t.addEventListener("mouseleave",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAbove=!1}))}}),c=d,f=(i("0013"),i("2877")),p=Object(f["a"])(c,r,u,!1,null,"2608bf8a",null),v=p.exports,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._l(e.fileList,(function(e,t){return i("div",{key:e.name},[i("File",{attrs:{f:e,index:t}})],1)})),0)},h=[],_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"div-file",class:e.mouseAbove?"mouse-above":"mouse-leave",staticStyle:{height:"50px",width:"100%","align-items":"center",display:"table","text-align":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle",width:"100%"}},[i("div",{staticStyle:{width:"10%",float:"left"}},[e._v(e._s(e.index+1))]),i("div",{staticStyle:{width:"60%",float:"left"}},[e._v(e._s(e.f.name))]),i("div",{staticStyle:{width:"15%",float:"left"}},[e._v(e._s(e.calculateSize(e.f.size)))]),i("div",{staticStyle:{width:"10%",float:"left"}},[e._v(e._s(e.$t(0===e.f.status?"app.progress_waiting":1===e.f.status?"upload.progress_uploading":2===e.f.status?"app.progress_completed":"app.progress_failed")))]),i("div",{staticStyle:{width:"5%",float:"left"}},[e._v(e._s(e.f.upload+"%"))])])])},g=[],b=(i("b680"),{name:"File",props:["f","index"],data:function(){return{file:null,mouseAbove:!1,SIZE_UNITS:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},methods:{calculateSize:function(e){if(e<1024)return e+" B";var t=e,i=1;while((t/=1024)>1024)i++;return t.toFixed(2)+" "+this.SIZE_UNITS[i]}},mounted:function(){var e=this;this.file=this.f;var t=this.$refs["div-file"];t.addEventListener("mouseover",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAbove=!0})),t.addEventListener("mouseleave",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAbove=!1}))}}),y=b,w=(i("0a3f"),Object(f["a"])(y,_,g,!1,null,"62b9ae34",null)),x=w.exports,F={name:"FileList",components:{File:x},data:function(){return{fileList:null}},methods:{updateFileList:function(e){this.fileList=e}}},S=F,L=Object(f["a"])(S,m,h,!1,null,"0c13ae07",null),O=L.exports,E=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{"background-color":"#4285F4","align-items":"center",display:"table","text-align":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle",width:"100%"}},[i("div",{ref:"upload",class:e.mouseAboveUpload?"mouse-above":"mouse-leave",staticStyle:{width:"10%",float:"right"},on:{click:e.upload}},[e._v(e._s(e.$t("upload.btn_upload")))]),i("div",{ref:"remove",class:e.mouseAboveRemove?"mouse-above":"mouse-leave",staticStyle:{width:"10%",float:"right"},on:{click:e.remove}},[e._v(e._s(e.$t("upload.btn_remove")))])])])},$=[],A=i("bc3a"),P=i.n(A),D={name:"Footer",data:function(){return{mouseAboveUpload:!1,mouseAboveRemove:!1}},methods:{upload:function(){this.$emit("upload")},uploadFile:function(e){if(0!==e.length){var t,i,o,n,a=window.location.origin;console.log("Host: "+a),o={"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":a,"Access-Control-Allow-Methods":"POST,GET,OPTIONS","Access-Control-Allow-Headers":"*","Access-Control-Max-Age":"0"},e.forEach((function(e){console.log("========================================="),console.log("Upload File: "+e.name),t="/upload?fileName="+e.name,console.log("Target URL: "+t),i=new FormData,i.append("file",e.file),P()({url:t,method:"POST",headers:o,data:i,onUploadProgress:function(t){n=100*t.loaded/t.total,console.log("Upload '"+e.name+"' => "+n+"%"),e.status=1,e.upload=n}}).then((function(t){console.log("Upload '"+e.name+"' with response code "+t.status),e.status=2})).catch((function(t){console.log("Upload '"+e.name+"' with exception: "+t),e.status=-1}))}))}},remove:function(){this.$emit("remove")}},mounted:function(){var e=this,t=this.$refs.upload;t.addEventListener("mouseover",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAboveUpload=!0})),t.addEventListener("mouseleave",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAboveUpload=!1}));var i=this.$refs.remove;i.addEventListener("mouseover",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAboveRemove=!0})),i.addEventListener("mouseleave",(function(t){t.stopPropagation(),t.preventDefault(),e.mouseAboveRemove=!1}))}},j=D,U=(i("8da1"),Object(f["a"])(j,E,$,!1,null,"ab2ebd86",null)),z=U.exports,T={name:"Upload",data:function(){return{fileList:null}},components:{Footer:z,FileList:O,DropFile:v},methods:{updateFileList:function(e){this.fileList=e,this.$refs.fileList.updateFileList(e)},upload:function(){this.$refs.footer.uploadFile(this.fileList)},removeFiles:function(){this.updateFileList([])}}},k=T,B=(i("15be"),Object(f["a"])(k,l,s,!1,null,"30184c08",null)),C=B.exports,M={name:"App",data:function(){return{fileList:null}},components:{Upload:C},methods:{}},R=M,I=(i("034f"),Object(f["a"])(R,n,a,!1,null,null,null)),N=I.exports,q=i("a925");o["a"].use(q["a"]);var Z,G,H=new q["a"]({locale:"zh",messages:{zh:i("8447"),en:i("9d77")}}),J=H,K=Object(f["a"])(J,Z,G,!1,null,"90f9b186",null),W=K.exports;o["a"].config.productionTip=!1,new o["a"]({i18n:W,render:function(e){return e(N)}}).$mount("#app")},"7ec2":function(e,t,i){},8447:function(e,t,i){"use strict";i.r(t);var o=i("1612");for(var n in o)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n);var a,l,s=i("2877"),r=Object(s["a"])(o["default"],a,l,!1,null,null,null);t["default"]=r.exports},"85ec":function(e,t,i){},"8da1":function(e,t,i){"use strict";i("3ec1")},"9d77":function(e,t,i){"use strict";i.r(t);var o=i("095d");for(var n in o)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n);var a,l,s=i("2877"),r=Object(s["a"])(o["default"],a,l,!1,null,null,null);t["default"]=r.exports},a145:function(e,t,i){},cafb:function(e,t,i){},f65d:function(e,t){e.exports={app:{div_file_seq:"顺序",div_file_name:"文件名",div_file_size:"文件大小",div_file_status:"状态",div_file_progress:"进度",progress_waiting:"等待中",progress_completed:"完成",progress_failed:"失败"},upload:{text_drop_above:"释放文件以选中文件",text_drop_empty:"点击选择文件或拖动文件到此处",btn_upload:"上传",btn_remove:"删除全部",progress_uploading:"上传中"}}}});
//# sourceMappingURL=app.26ffb977.js.map