(function(t){function e(e){for(var a,o,r=e[0],d=e[1],s=e[2],c=0,p=[];c<r.length;c++)o=r[c],Object.prototype.hasOwnProperty.call(l,o)&&l[o]&&p.push(l[o][0]),l[o]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,s||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var d=i[r];0!==l[d]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},l={app:0},n=[];function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var u=d;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"022e":function(t,e,i){},"034f":function(t,e,i){"use strict";i("85ec")},"095d":function(t,e,i){"use strict";i.r(e);var a=i("2c7b"),l=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=l.a},1612:function(t,e,i){"use strict";i.r(e);var a=i("f65d"),l=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n);e["default"]=l.a},"2c7b":function(t,e){t.exports={app:{div_file_seq:"Sequence",div_file_name:"File Name",div_file_size:"File Size",div_file_status:"Status",div_file_progress:"Progress",progress_waiting:"Waiting",progress_completed:"Completed",progress_failed:"Filed"},upload:{text_drop_above:"Release here to Select",text_drop_empty:"Click for selecting file(s) or dropping file(s) at here",btn_upload:"Upload",btn_remove:"Remove All",progress_uploading:"Uploading"},download:{div_name:"Name",div_duration:"Duration",progress_downloading:"Downloading"}}},"302e":function(t,e,i){"use strict";i("022e")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Download")],1)},n=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},[i("div",{staticStyle:{height:"50px",width:"100%","align-items":"center",display:"table","text-align":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle",width:"100%"}},[i("div",{staticStyle:{width:"50%",float:"left"}},[t._v(t._s(t.$t("download.div_name")))]),i("div",{staticStyle:{width:"10%",float:"left"}},[t._v(t._s(t.$t("download.div_duration")))]),i("div",{staticStyle:{width:"15%",float:"left"}},[t._v(t._s(t.$t("app.div_file_size")))]),i("div",{staticStyle:{width:"10%",float:"left"}},[t._v(t._s(t.$t("app.div_file_status")))]),i("div",{staticStyle:{width:"10%",float:"left"}},[t._v(t._s(t.$t("app.div_file_progress")))])])]),t._l(t.audioList,(function(t){return i("div",{key:t.id},[i("Audio",{attrs:{a:t}})],1)}))],2)},r=[],d=(i("d3b7"),i("159b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"div-audio",class:t.mouseAbove?"mouse-above":"mouse-leave",staticStyle:{height:"60px",width:"100%","align-items":"center",display:"table","text-align":"center"},on:{click:t.download}},[i("div",{staticStyle:{height:"100%",display:"table-cell","vertical-align":"middle",width:"100%"}},[i("div",{staticStyle:{width:"50%",float:"left"}},[i("img",{ref:"img",staticStyle:{height:"40px",width:"40px",float:"left",margin:"10px 10px 10px 10px"},attrs:{src:t.imgSrc}}),i("div",{staticStyle:{height:"60px",float:"left",display:"table"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle","align-items":"center","text-align":"left"}},[i("div",[t._v(t._s(t.a.title))]),i("div",[t._v(t._s(t.a.artist+" - "+t.a.album))])])])]),i("div",{staticStyle:{height:"60px",float:"left",display:"table","vertical-align":"middle",width:"10%","align-items":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[t._v(t._s(t.calculateDuration(t.a.duration)))])]),i("div",{staticStyle:{height:"60px",float:"left",display:"table","vertical-align":"middle",width:"15%","align-items":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[t._v(t._s(t.calculateSize(t.a.size)))])]),i("div",{staticStyle:{height:"60px",float:"left",display:"table","vertical-align":"middle",width:"10%","align-items":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[t._v(t._s(t.$t(0===t.a.status?"app.progress_waiting":1===t.a.status?"download.progress_downloading":2===t.a.status?"app.progress_completed":"app.progress_failed")))])]),i("div",{staticStyle:{height:"60px",float:"left",display:"table","vertical-align":"middle",width:"10%","align-items":"center"}},[i("div",{staticStyle:{display:"table-cell","vertical-align":"middle"}},[t._v(t._s(t.a.download+"%"))])])])])}),s=[],u=(i("a9e3"),i("b680"),i("25f0"),i("ac1f"),i("5319"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("bc3a")),c=i.n(u),p={name:"Audio",props:["a"],data:function(){return{audio:null,mouseAbove:!1,imgSrc:null,SIZE_UNITS:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},methods:{calculateSize:function(t){if(t<1024)return t+" B";var e=Number(t),i=1;while((e/=1024)>1024)i++;return e.toFixed(2)+" "+this.SIZE_UNITS[i]},prefix2Digit:function(t){return t<10?"0"+t.toFixed(0):t.toFixed(0)},prefix3Digit:function(t){return t<10?"00"+t.toString():t<99?"0"+t.toString():t.toString()},calculateDuration:function(t){var e=Number(t);return this.prefix2Digit(e/6e4)+":"+this.prefix2Digit(e/1e3%60)+"."+this.prefix3Digit(e%1e3)},download:function(){var t=this,e={"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":window.location.origin,"Access-Control-Allow-Methods":"POST,GET,OPTIONS","Access-Control-Allow-Headers":"*","Access-Control-Max-Age":"0"};c()({url:"/download?id="+this.audio.id,headers:e,responseType:"blob",onDownloadProgress:function(e){t.audio.status=1;var i=(100*e.loaded/e.total).toFixed(0);console.log("Download "+t.audio.title+" => "+i+"%"),t.audio.download=i}}).then((function(e){t.audio.status=2;var i=e.data,a=e.headers,l=String(a["Content-Type"]).replace("audio/","."),n=t.audio.artist+" - "+t.audio.title+l,o=window.URL.createObjectURL(new Blob([i],{type:a["content-type"]})),r=document.createElement("a");r.href=o,r.download=n,r.style.display="none",document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),window.URL.revokeObjectURL(o),console.log("Download "+t.audio.title+" with response code: "+e.status)})).catch((function(e){console.log("Download "+t.audio.title+" with exception: "+e),t.audio.status=-1}))}},mounted:function(){this.audio=this.a,this.imgSrc="/require?type=art&audio="+this.a.id+"&album="+this.a.albumId},updated:function(){var t=this,e=this.$refs["div-audio"];e.addEventListener("mouseover",(function(e){e.stopPropagation(),e.preventDefault(),t.mouseAbove=!0})),e.addEventListener("mouseleave",(function(e){e.stopPropagation(),e.preventDefault(),t.mouseAbove=!1}))}},f=p,v=(i("302e"),i("2877")),g=Object(v["a"])(f,d,s,!1,null,"32e7964d",null),_=g.exports,h={name:"Download",components:{Audio:_},data:function(){return{audioList:null}},mounted:function(){var t=this,e={"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":window.location.origin,"Access-Control-Allow-Methods":"POST,GET,OPTIONS","Access-Control-Allow-Headers":"*","Access-Control-Max-Age":"0"};c()({url:"require?type=list",method:"GET",headers:e}).then((function(e){t.audioList=[],e.data["list"].forEach((function(e){t.audioList.push({id:e["id"],title:e["title"],artist:e["artist"],album:e["album"],albumId:e["albumId"],duration:e["duration"],size:e["size"],status:0,download:0})}))}))}},m=h,b=Object(v["a"])(m,o,r,!1,null,"30382164",null),w=b.exports,y={name:"App",data:function(){return{fileList:null}},components:{Download:w},methods:{}},x=y,S=(i("034f"),Object(v["a"])(x,l,n,!1,null,null,null)),O=S.exports,A=i("a925");a["a"].use(A["a"]);var D,j,T=new A["a"]({locale:"zh",messages:{zh:i("8447"),en:i("9d77")}}),P=T,C=Object(v["a"])(P,D,j,!1,null,"90f9b186",null),E=C.exports;a["a"].config.productionTip=!1,new a["a"]({i18n:E,render:function(t){return t(O)}}).$mount("#app")},8447:function(t,e,i){"use strict";i.r(e);var a=i("1612");for(var l in a)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(l);var n,o,r=i("2877"),d=Object(r["a"])(a["default"],n,o,!1,null,null,null);e["default"]=d.exports},"85ec":function(t,e,i){},"9d77":function(t,e,i){"use strict";i.r(e);var a=i("095d");for(var l in a)["default"].indexOf(l)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(l);var n,o,r=i("2877"),d=Object(r["a"])(a["default"],n,o,!1,null,null,null);e["default"]=d.exports},f65d:function(t,e){t.exports={app:{div_file_seq:"顺序",div_file_name:"文件名",div_file_size:"文件大小",div_file_status:"状态",div_file_progress:"进度",progress_waiting:"等待中",progress_completed:"完成",progress_failed:"失败"},upload:{text_drop_above:"释放文件以选中文件",text_drop_empty:"点击选择文件或拖动文件到此处",btn_upload:"上传",btn_remove:"删除全部",progress_uploading:"上传中"},download:{div_name:"歌曲",div_duration:"时长",progress_downloading:"下载中"}}}});
//# sourceMappingURL=app.4d715093.js.map